<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Parallel processing overview · COBREXA.jl</title><meta name="title" content="Parallel processing overview · COBREXA.jl"/><meta property="og:title" content="Parallel processing overview · COBREXA.jl"/><meta property="twitter:title" content="Parallel processing overview · COBREXA.jl"/><meta name="description" content="Documentation for COBREXA.jl."/><meta property="og:description" content="Documentation for COBREXA.jl."/><meta property="twitter:description" content="Documentation for COBREXA.jl."/><meta property="og:url" content="https://cobrexa.github.io/COBREXA.jl/stable/distributed/1_functions/"/><meta property="twitter:url" content="https://cobrexa.github.io/COBREXA.jl/stable/distributed/1_functions/"/><link rel="canonical" href="https://cobrexa.github.io/COBREXA.jl/stable/distributed/1_functions/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="COBREXA.jl logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="COBREXA.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">COBREXA.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/">Contents</a></li><li><a class="tocitem" href="../../examples/01-loading-and-saving/">Loading and saving models!</a></li><li><a class="tocitem" href="../../examples/02-flux-balance-analysis/">Flux balance analysis (FBA)</a></li><li><a class="tocitem" href="../../examples/02a-optimizer-parameters/">Changing optimizer parameters</a></li><li><a class="tocitem" href="../../examples/02b-model-modifications/">Making adjustments to the model</a></li><li><a class="tocitem" href="../../examples/02c-constraint-modifications/">Making adjustments to the constraint system</a></li><li><a class="tocitem" href="../../examples/03-parsimonious-flux-balance/">Parsimonious flux balance analysis</a></li><li><a class="tocitem" href="../../examples/04-minimization-of-metabolic-adjustment/">Minimization of metabolic adjustment analysis</a></li><li><a class="tocitem" href="../../examples/05-enzyme-constrained-models/">Enzyme constrained models</a></li><li><a class="tocitem" href="../../examples/06-mmdf/">Thermodynamic models</a></li><li><a class="tocitem" href="../../examples/07-loopless-models/">Loopless flux balance analysis (ll-FBA)</a></li><li><a class="tocitem" href="../../examples/08-community-models/">Community FBA models</a></li></ul></li><li><span class="tocitem">Parallel, distributed and HPC processing</span><ul><li><a class="tocitem" href="../">Contents</a></li><li class="is-active"><a class="tocitem" href>Parallel processing overview</a><ul class="internal"><li><a class="tocitem" href="#Functions-that-support-parallelization"><span>Functions that support parallelization</span></a></li><li><a class="tocitem" href="#Mitigating-parallel-inefficiencies"><span>Mitigating parallel inefficiencies</span></a></li></ul></li><li><a class="tocitem" href="../2_parallel/">Local parallel processing</a></li><li><a class="tocitem" href="../3_slurm/">Working in a HPC environment</a></li></ul></li><li><span class="tocitem">Core concepts guide</span><ul><li><a class="tocitem" href="../../concepts/">Contents</a></li><li><a class="tocitem" href="../../concepts/1_screen/">Screening many model variants</a></li></ul></li><li><span class="tocitem">API reference</span><ul><li><a class="tocitem" href="../../reference/">Contents</a></li><li><a class="tocitem" href="../../reference/analysis/">Specialized analysis functions</a></li><li><a class="tocitem" href="../../reference/builders/">Constraint system builders</a></li><li><a class="tocitem" href="../../reference/core/">Core functionality</a></li><li><a class="tocitem" href="../../reference/frontend/">Front-end user interface</a></li><li><a class="tocitem" href="../../reference/misc/">Miscellaneous functions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Parallel, distributed and HPC processing</a></li><li class="is-active"><a href>Parallel processing overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Parallel processing overview</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/COBREXA/COBREXA.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/COBREXA/COBREXA.jl/blob/master/docs/src/distributed/1_functions.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Parallel-processing-overview"><a class="docs-heading-anchor" href="#Parallel-processing-overview">Parallel processing overview</a><a id="Parallel-processing-overview-1"></a><a class="docs-heading-anchor-permalink" href="#Parallel-processing-overview" title="Permalink"></a></h1><p>Distributed processing in Julia is represented mainly by the package <a href="https://docs.julialang.org/en/v1/stdlib/Distributed/"><code>Distributed.jl</code></a>.</p><p><code>COBREXA.jl</code> is able to utilize this existing system to almost transparently run the large parallelizable analyses on multiple CPU cores and multiple computers connected through the network. Ultimately, the approach scales to thousands of computing nodes in large HPC facilities.</p><p>You may run your analyses in parallel to gain speed-ups. The usual workflow in <code>COBREXA.jl</code> is quite straightforward:</p><ol><li>Import the <code>Distributed</code> package and add worker processes, e.g. using <code>addprocs</code>.</li><li>Pick an analysis function that can be parallelized (such as <code>screen</code> or <code>flux_variability_analysis</code>) and prepare it to work on your data.</li><li>Pass the desired set of worker IDs to the function using <code>workers=</code> argument, in the simplest form using e.g. <code>screen(...,  workers=workers())</code>.</li><li>Worker communication will be managed automatically, and you will get results &quot;as usual&quot;.</li></ol><p>Specific documentation is available about <a href="../2_parallel/">running parallel analysis locally</a> and <a href="../3_slurm/">running distributed analysis in HPC clusters</a>.</p><h2 id="Functions-that-support-parallelization"><a class="docs-heading-anchor" href="#Functions-that-support-parallelization">Functions that support parallelization</a><a id="Functions-that-support-parallelization-1"></a><a class="docs-heading-anchor-permalink" href="#Functions-that-support-parallelization" title="Permalink"></a></h2><p>As of COBREXA 1.3, the list of functions that accept the <code>worker</code> argument is as follows:</p><ul><li><code>affine_hit_and_run</code> sampling, together with <code>warmup_from_variability</code></li><li><code>flux_variability_analysis</code></li><li><code>max_min_driving_force</code></li><li><code>objective_envelope</code></li><li><code>screen</code></li><li><code>screen_optmodel_modifications</code></li></ul><p>Notably, the screening functions are reused to run many other kinds of analyses which, in turn, inherit the parallelizability. This includes a wide range of functionality, including analyses such as:</p><ul><li>single and multiple gene deletions (and other genetic modifications)</li><li>modifications of the reaction spectrum (e.g., disabling reactions)</li><li>advanced envelope-scanning analyses</li><li>growth media exploration (e.g., metabolite depletion)</li></ul><h2 id="Mitigating-parallel-inefficiencies"><a class="docs-heading-anchor" href="#Mitigating-parallel-inefficiencies">Mitigating parallel inefficiencies</a><a id="Mitigating-parallel-inefficiencies-1"></a><a class="docs-heading-anchor-permalink" href="#Mitigating-parallel-inefficiencies" title="Permalink"></a></h2><p>Ideally, the speedup gained by parallel processing should be proportional to the amount of hardware you add as the workers. You should be aware of factors that reduce the parallel efficiency, which can be summarized as follows:</p><ul><li>Parallelization within single runs of the linear solver is typically not supported (and if it is, it may be inefficient for usual problem sizes). You usually want to parallelize the analyzes that comprise multiple independent runs of the solvers.</li><li>Some analysis function, such as <code>flux_variability_analysis</code>, have serial parts that can not be parallelized by default. Usually, you may avoid the inefficiency by precomputing the serial analysis parts without involving the cluster of the workers.</li><li>Requirements for frequent worker communication may vastly reduce the efficiency of parallel processing; typically this happens if the time required for individual analysis steps is smaller than the network round-trip-time to the worker processes. Do not use unnecessary parallelization for small tasks.</li><li>Transferring large amounts of data among workers may hamper parallel efficiency. Use <a href="../../concepts/1_screen/">the system of model variants</a> to avoid transferring many similar models to the workers.</li></ul><div class="admonition is-info"><header class="admonition-header">Cost of the distribution and parallelization overhead</header><div class="admonition-body"><p>Before allocating extra resources into the distributed execution, always check that your tasks are properly parallelizable and sufficiently large to saturate your computation resources, so that the invested energy is not wasted. <a href="https://en.wikipedia.org/wiki/Amdahl&#39;s_law">Amdahl&#39;s</a> and <a href="https://en.wikipedia.org/wiki/Gustafson%27s_law">Gustafson&#39;s</a> laws can give you a better overview of the sources and consequences of the parallelization inefficiencies and the costs of the resulting overhead.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Contents</a><a class="docs-footer-nextpage" href="../2_parallel/">Local parallel processing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Friday 2 February 2024 08:52">Friday 2 February 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
